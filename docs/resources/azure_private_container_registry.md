---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "polaris_azure_private_container_registry Resource - terraform-provider-polaris"
subcategory: ""
description: |-
  The polaris_azure_private_container_registry resource enables the private
  container registry (PCR) feature for the RSC customer account. This disables the
  standard Rubrik container registry.
  ~> Note: Even though the polaris_azure_private_container_registry resource
     ID is an RSC cloud account ID, there can only be a single PCR per RSC
     customer account.
  Exocompute Image Bundles
  The following GraphQL query can be used to retrieve information about the image
  bundles used by RSC for exocompute:
  graphql
  query ExotaskImageBundle {
    exotaskImageBundle {
      bundleImages {
        name
        sha
        tag
      }
      bundleVersion
      eksVersion
      repoUrl
    }
  }
  
  The repoUrl field holds the URL to the RSC container registry from where the
  RSC images can be pulled.
  The following GraphQL mutation can be used to set the approved bundle version
  for the RSC customer account:
  graphql
  mutation SetBundleApprovalStatus($input: SetBundleApprovalStatusInput!) {
    setBundleApprovalStatus(input: $input)
  }
  
  The input is an object with the following structure:
  json
  {
    "input": {
      "approvalStatus": "APPROVED",
      "bundleVersion": "1.164",
    }
  }
  
  Where approvalStatus can be either APPROVED or REJECTED. bundleVersion
  is the the bundle version being approved or rejected. bundleMetadata is
  optional.
---

# polaris_azure_private_container_registry (Resource)

The `polaris_azure_private_container_registry` resource enables the private
container registry (PCR) feature for the RSC customer account. This disables the
standard Rubrik container registry.

~> **Note:** Even though the `polaris_azure_private_container_registry` resource
   ID is an RSC cloud account ID, there can only be a single PCR per RSC
   customer account.

## Exocompute Image Bundles
The following GraphQL query can be used to retrieve information about the image
bundles used by RSC for exocompute:
```graphql
query ExotaskImageBundle {
  exotaskImageBundle {
    bundleImages {
      name
      sha
      tag
    }
    bundleVersion
    eksVersion
    repoUrl
  }
}
```
The `repoUrl` field holds the URL to the RSC container registry from where the
RSC images can be pulled.

The following GraphQL mutation can be used to set the approved bundle version
for the RSC customer account:
```graphql
mutation SetBundleApprovalStatus($input: SetBundleApprovalStatusInput!) {
  setBundleApprovalStatus(input: $input)
}
```
The input is an object with the following structure:
```json
{
  "input": {
    "approvalStatus": "APPROVED",
    "bundleVersion": "1.164",
  }
}
```
Where `approvalStatus` can be either `APPROVED` or `REJECTED`. `bundleVersion`
is the the bundle version being approved or rejected. `bundleMetadata` is
optional.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app_id` (String) Azure app registration application ID. Also known as the client ID.
- `cloud_account_id` (String) RSC cloud account ID (UUID). Changing this forces a new resource to be created.
- `url` (String) URL for customer provided private container registry.

### Read-Only

- `id` (String) RSC cloud account ID (UUID).
