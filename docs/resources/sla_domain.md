---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "polaris_sla_domain Resource - terraform-provider-polaris"
subcategory: ""
description: |-
  The polaris_sla_domain resource is used to manage RSC global SLA Domains. SLA
  Domain defines how you want to take snapshots of objects like virtual machines,
  databases, SaaS apps and cloud objects. An SLA Domain defines frequency,
  retention, archival and replication.
  -> Enabling Instant Archive can increase bandwidth usage and archival storage
     requirements.
  -> The hourly retention for snapshots of cloud-native workloads must be a
     multiple of 24.
  -> For workloads backed up on a Rubrik cluster, snapshots are scheduled using
     the time zone of that Rubrik cluster. For workloads backed up in the cloud,
     snapshots are scheduled using the UTC time zone.
  
  Frequency
  This defines when and how often snapshots are taken. This could be interval-based (days, hours, minutes) or calendar-based (a day of each month).
  Retention
  This defines how long the snapshot is kept on the Rubrik cluster.
  Before You Start: To archive snapshots, make sure you’ve added archival locations so that they’re available for selection.
  To avoid early deletion fees, retain snapshots in cool tier archival locations for at least 30 days.
  Retention lock: https://docs.rubrik.com/en-us/saas/saas/retentionlockedsla_domain.html
  
  For Azure SQL Database:
      "For Azure SQL Database, archival is mandatory and the backups will be instantly archived. " +
      "These frequencies and retentions apply to archived snapshots of the Azure SQL database. " +
      "You can configure continuous backups in the next step. " +
      "To avoid early deletion fees, retain snapshots in cool tier archival locations for at least 30 days. " +
      "Archiving starts immediately. The archival location retains snapshots for ",
---

# polaris_sla_domain (Resource)

The `polaris_sla_domain` resource is used to manage RSC global SLA Domains. SLA
Domain defines how you want to take snapshots of objects like virtual machines,
databases, SaaS apps and cloud objects. An SLA Domain defines frequency,
retention, archival and replication.

-> Enabling Instant Archive can increase bandwidth usage and archival storage
   requirements.

-> The hourly retention for snapshots of cloud-native workloads must be a
   multiple of 24.

-> For workloads backed up on a Rubrik cluster, snapshots are scheduled using
   the time zone of that Rubrik cluster. For workloads backed up in the cloud,
   snapshots are scheduled using the UTC time zone.

---



Frequency

This defines when and how often snapshots are taken. This could be interval-based (days, hours, minutes) or calendar-based (a day of each month).

Retention

This defines how long the snapshot is kept on the Rubrik cluster.

Before You Start: To archive snapshots, make sure you’ve added archival locations so that they’re available for selection.

To avoid early deletion fees, retain snapshots in cool tier archival locations for at least 30 days.

Retention lock: https://docs.rubrik.com/en-us/saas/saas/retention_locked_sla_domain.html

---

For Azure SQL Database:
	"For Azure SQL Database, archival is mandatory and the backups will be instantly archived. " +
	"These frequencies and retentions apply to archived snapshots of the Azure SQL database. " +
	"You can configure continuous backups in the next step. " +
	"To avoid early deletion fees, retain snapshots in cool tier archival locations for at least 30 days. " +
	"Archiving starts immediately. The archival location retains snapshots for ",

## Example Usage

```terraform
resource "polaris_sla_domain" "daily" {
  name = "daily"
}
resource "polaris_sla_domain" "weekly" {
  name = "weekly"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) SLA Domain name.
- `object_types` (Set of String) Object types which can be protected by the SLA Domain. Possible values are `AWS_EC2_EBS_OBJECT_TYPE`, `AWS_RDS_OBJECT_TYPE`, `AWS_S3_OBJECT_TYPE`, `AZURE_OBJECT_TYPE`, `AZURE_SQL_DATABASE_OBJECT_TYPE`, `AZURE_SQL_MANAGED_INSTANCE_OBJECT_TYPE`, `AZURE_BLOB_OBJECT_TYPE` and `GCP_OBJECT_TYPE`. Note, `AZURE_SQL_DATABASE_OBJECT_TYPE` cannot be provided at the same time as other object types.

### Optional

- `archival` (Block List) Archive snapshots to the specified archival location. Note, if `instant_archive` is enabled, `threshold` and `threshold_unit` are ignored. (see [below for nested schema](#nestedblock--archival))
- `aws_rds_config` (Block List) AWS RDS continuous backups for point-in-time recovery. If continuous backup isn't specified, AWS provides 1 day of continuous backup by default for Aurora databases, which can be changed but not disable. (see [below for nested schema](#nestedblock--aws_rds_config))
- `aws_s3_config` (Block List) AWS S3 backup location for scheduled snapshots. Only scheduled snapshots will be stored in these locations. (see [below for nested schema](#nestedblock--aws_s3_config))
- `azure_blob_config` (Block List) Azure Blob Storage backup location for scheduled snapshots. To avoid early deletion fees, retain snapshots in cool tier archival locations for at least 30 days. (see [below for nested schema](#nestedblock--azure_blob_config))
- `azure_sql_database_config` (Block List) Azure SQL Database continuous backups for point-in-time recovery. Continuous backups are stored in the source database. Note, the changes will be applied during the next maintenance window. (see [below for nested schema](#nestedblock--azure_sql_database_config))
- `azure_sql_managed_instance_config` (Block List) Azure SQL MI log backups. Note, the changes will be applied during the next maintenance window. (see [below for nested schema](#nestedblock--azure_sql_managed_instance_config))
- `daily_schedule` (Block List, Max: 1) Take snapshots with frequency specified in days. (see [below for nested schema](#nestedblock--daily_schedule))
- `description` (String) SLA Domain description.
- `first_full_snapshot` (Block List) Specifies the snapshot window where the first full snapshot will be taken. If not specified it will be at first opportunity. (see [below for nested schema](#nestedblock--first_full_snapshot))
- `hourly_schedule` (Block List, Max: 1) Take snapshots with frequency specified in hours. (see [below for nested schema](#nestedblock--hourly_schedule))
- `monthly_schedule` (Block List, Max: 1) Take snapshots with frequency specified in months. (see [below for nested schema](#nestedblock--monthly_schedule))
- `quarterly_schedule` (Block List, Max: 1) Take snapshots with frequency specified in quarters. (see [below for nested schema](#nestedblock--quarterly_schedule))
- `retention_lock` (Block List, Max: 1) Enable retention lock. Retention lock prevents data from being accidentally or maliciously modified or deleted during the retention period (see [below for nested schema](#nestedblock--retention_lock))
- `snapshot_window` (Block List) Specifies an optional snapshot window. (see [below for nested schema](#nestedblock--snapshot_window))
- `source_retention` (Block List, Max: 1) (see [below for nested schema](#nestedblock--source_retention))
- `weekly_schedule` (Block List, Max: 1) Take snapshots with frequency specified in weeks. (see [below for nested schema](#nestedblock--weekly_schedule))
- `yearly_schedule` (Block List, Max: 1) Take snapshots with frequency specified in years. (see [below for nested schema](#nestedblock--yearly_schedule))

### Read-Only

- `id` (String) SLA Domain ID (UUID).

<a id="nestedblock--archival"></a>
### Nested Schema for `archival`

Required:

- `archival_location_id` (String) Archival location ID (UUID).

Optional:

- `threshold` (Number) Threshold specifies the time before archiving the snapshots at the managing location. The archival location retains the snapshots according to the SLA Domain schedule.
- `threshold_unit` (String) Threshold unit specifies the unit of `threshold`. Possible values are `DAYS`, `WEEKS`, `MONTHS` and `YEARS`. Default value is `DAYS`.


<a id="nestedblock--aws_rds_config"></a>
### Nested Schema for `aws_rds_config`

Required:

- `log_retention` (Number) Log retention specifies for how long the backups are kept.

Optional:

- `log_retention_unit` (String) Log retention unit specifies the unit of the `log_retention` field. Possible values are `DAYS`, `WEEKS`, `MONTHS` and `YEARS`. Default is `DAYS`.


<a id="nestedblock--aws_s3_config"></a>
### Nested Schema for `aws_s3_config`

Required:

- `archival_location_id` (String) Archival location ID (UUID).


<a id="nestedblock--azure_blob_config"></a>
### Nested Schema for `azure_blob_config`

Required:

- `archival_location_id` (String) Archival location ID (UUID).


<a id="nestedblock--azure_sql_database_config"></a>
### Nested Schema for `azure_sql_database_config`

Required:

- `log_retention` (Number) Log retention specifies for how long, in days, the continuous backups are kept.


<a id="nestedblock--azure_sql_managed_instance_config"></a>
### Nested Schema for `azure_sql_managed_instance_config`

Required:

- `log_retention` (Number) Log retention specifies for how long, in days, the log backups are kept.


<a id="nestedblock--daily_schedule"></a>
### Nested Schema for `daily_schedule`

Required:

- `frequency` (Number) Frequency in days.
- `retention` (Number) Retention specifies for how long the snapshots are kept.

Optional:

- `retention_unit` (String) Retention unit specifies the unit of the `retention` field. Possible values are `DAYS`, `WEEKS` and `MONTHS`. Default is `DAYS`.


<a id="nestedblock--first_full_snapshot"></a>
### Nested Schema for `first_full_snapshot`

Required:

- `duration` (Number) Duration of snapshot window in days.
- `start_at` (String) Start of the snapshot window. Should be given as `DAY, HH:MM`, e.g: `Mon, 15:30`.


<a id="nestedblock--hourly_schedule"></a>
### Nested Schema for `hourly_schedule`

Required:

- `frequency` (Number) Frequency in hours.
- `retention` (Number) Retention specifies for how long the snapshots are kept.

Optional:

- `retention_unit` (String) Retention unit specifies the unit of the `retention` field. Possible values are `HOURS`, `DAYS` and `WEEKS`. Default value is `DAYS`.


<a id="nestedblock--monthly_schedule"></a>
### Nested Schema for `monthly_schedule`

Required:

- `day_of_month` (String) Day of month. Possible values are `FIRST_DAY`, `FIFTEENTH` and `LAST_DAY`.
- `frequency` (Number) Frequency in months.
- `retention` (Number) Retention specifies for how long the snapshots are kept.
- `retention_unit` (String) Retention unit specifies the unit of `retention`. Possible values are `MINUTE`, `HOURS`, `DAYS`, `WEEKS`, `MONTHS`, `QUARTERS` and `YEARS`.


<a id="nestedblock--quarterly_schedule"></a>
### Nested Schema for `quarterly_schedule`

Required:

- `day_of_quarter` (String) Day of quarter. Possible values are `FIRST_DAY` and `LAST_DAY`.
- `frequency` (Number) Frequency in quarters.
- `quarter_start_month` (String) Quarter start month. Possible values are `JANUARY`, `FEBRUARY`, `MARCH`, `APRIL`, `MAY`, `JUNE`, `JULY`, `AUGUST`, `SEPTEMBER`, `OCTOBER`, `NOVEMBER` and `DECEMBER`.
- `retention` (Number) Retention specifies for how long the snapshots are kept.
- `retention_unit` (String) Retention unit specifies the unit of `retention`. Possible values are `MINUTE`, `HOURS`, `DAYS`, `WEEKS`, `MONTHS`, `QUARTERS` and `YEARS`.


<a id="nestedblock--retention_lock"></a>
### Nested Schema for `retention_lock`

Required:

- `mode` (String) Retention lock mode. Possible values are `COMPLIANCE` and `GOVERNANCE`.


<a id="nestedblock--snapshot_window"></a>
### Nested Schema for `snapshot_window`

Required:

- `duration` (Number) Duration of the snapshot window in days.
- `start_at` (String) Start of the snapshot window. Should be given as `Day, HH:MM`, e.g: `Mon, 15:30`.


<a id="nestedblock--source_retention"></a>
### Nested Schema for `source_retention`

Required:

- `retention` (Number) Retention specifies for how long the snapshots are kept.

Optional:

- `retention_unit` (String) Retention unit specifies the unit of `retention`. Possible values are `MINUTE`, `HOURS`, `DAYS`, `WEEKS`, `MONTHS`, `QUARTERS` and `YEARS`.


<a id="nestedblock--weekly_schedule"></a>
### Nested Schema for `weekly_schedule`

Required:

- `day_of_week` (String) Day of week. Possible values are `MONDAY`, `TUESDAY`, `WEDNESDAY`, `THURSDAY`, `FRIDAY`, `SATURDAY` and `SUNDAY`.
- `frequency` (Number) Frequency in weeks.
- `retention` (Number) Retention specifies for how long the snapshots are kept.
- `retention_unit` (String) Retention unit specifies the unit of `retention`. Possible values are `MINUTE`, `HOURS`, `DAYS`, `WEEKS`, `MONTHS`, `QUARTERS` and `YEARS`.


<a id="nestedblock--yearly_schedule"></a>
### Nested Schema for `yearly_schedule`

Required:

- `day_of_year` (String) Day of year. Possible values are `FIRST_DAY` and `LAST_DAY`.
- `frequency` (Number) Frequency (years).
- `retention` (Number) Retention specifies for how long the snapshots are kept.
- `retention_unit` (String) Retention unit specifies the unit of `retention`. Possible values are `MINUTE`, `HOURS`, `DAYS`, `WEEKS`, `MONTHS`, `QUARTERS` and `YEARS`.
- `year_start_month` (String) Year start month. Possible values are `JANUARY`, `FEBRUARY`, `MARCH`, `APRIL`, `MAY`, `JUNE`, `JULY`, `AUGUST`, `SEPTEMBER`, `OCTOBER`, `NOVEMBER` and `DECEMBER`.
