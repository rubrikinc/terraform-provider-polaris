---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "polaris_data_center_archival_location_amazon_s3 Resource - terraform-provider-polaris"
subcategory: ""
description: |-
  The polaris_data_center_archival_location_amazon_s3 resource create a data
  center archival location with the Amazon S3 storage type.
  ~> Before configuring the immutability settings, see
  KB article https://support.rubrik.com/s/article/000005468 or the Rubrik
  User Guide documentation to determine the proper immutability lock period.
  -> More information about AWS Immutable Storage and time-based retention locks
  can be found in the Amazon AWS documentation.
---

# polaris_data_center_archival_location_amazon_s3 (Resource)

The `polaris_data_center_archival_location_amazon_s3` resource create a data
center archival location with the Amazon S3 storage type.

~> Before configuring the immutability settings, see
   [KB article](https://support.rubrik.com/s/article/000005468) or the Rubrik
   User Guide documentation to determine the proper immutability lock period.

-> More information about AWS Immutable Storage and time-based retention locks
   can be found in the Amazon AWS documentation.

## Example Usage

```terraform
data "polaris_data_center_aws_account" "archival" {
  name = "archival-account"
}

resource "polaris_data_center_archival_location_amazon_s3" "archival_location" {
  name             = "amazon-s3-archival-location"
  cluster_id       = "a501dae9-a27b-4ade-a604-fb103fba2fde"
  cloud_account_id = data.polaris_data_center_aws_account.archival.id
  region           = "us-east-2"
  bucket_name      = "archival-bucket"
  kms_master_key   = "aws/s3"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucket_name` (String) AWS bucket name.
- `cloud_account_id` (String) RSC data center cloud account ID (UUID).
- `cluster_id` (String) Rubrik cluster ID (UUID).
- `name` (String) Data center archival location name.
- `region` (String) AWS region.

### Optional

- `archival_proxy_settings` (Block List, Max: 1) Archival proxy settings will be used to route the archival data and requests. (see [below for nested schema](#nestedblock--archival_proxy_settings))
- `cloud_compute_settings` (Block List, Max: 1) Cloud compute settings will be used to launch a temporary instance in the AWS account. (see [below for nested schema](#nestedblock--cloud_compute_settings))
- `compute_proxy_settings` (Block List, Max: 1) Compute proxy settings will be used to make API calls for instantiating virtual machines. (see [below for nested schema](#nestedblock--compute_proxy_settings))
- `encryption_password` (String, Sensitive) Encryption password. Password encryption is available only for immutable archival locations.
- `endpoint_settings` (Block List, Max: 1) Endpoint settings will be used to specify dedicated VPC endpoints when archiving to AWS S3 to leverage the AWS PrivateLink feature. The default region-based endpoint will be used if no endpoint is specified. (see [below for nested schema](#nestedblock--endpoint_settings))
- `immutability_settings` (Block List, Max: 1) Enables immutable storage with a time-based retention lock using the AWS immutability feature for your archival location. Once enabled, you cannot delete the snapshots in this archival location before the specified immutability lock period expires. Requires an encryption password policy. (see [below for nested schema](#nestedblock--immutability_settings))
- `kms_master_key` (String) AWS KMS master key ID. Cannot be used with immutable archival locations.
- `retrieval_tier` (String) AWS bucket retrieval tier. Determines the speed and cost of retrieving data from the Glacier and Glacier Flexible Retrieval storage classes. Possible values are `BULK_TIER`, `EXPEDITED_TIER` and `STANDARD_TIER`. Default value is `STANDARD_TIER`.
- `rsa_key` (String, Sensitive) PEM encoded private RSA key. Cannot be used with immutable archival locations.
- `storage_class` (String) AWS bucket storage class. Possible values are `STANDARD`, `STANDARD_IA` and `ONEZONE_IA`. Default value is `STANDARD`.

### Read-Only

- `id` (String) Data center archival location ID (UUID).
- `status` (String) Status of data center archival location.
- `sync_status` (String) Synchronization status of AWS target.

<a id="nestedblock--archival_proxy_settings"></a>
### Nested Schema for `archival_proxy_settings`

Optional:

- `bypass_proxy` (Boolean) When true, the system proxy will not be used to route the archival requests and data.
- `password` (String, Sensitive) Proxy password.
- `port_number` (Number) Proxy port number.
- `protocol` (String) Proxy protocol. Possible values are `HTTP`, `HTTPS` and `SOCKS5`.
- `proxy_server` (String) Proxy server IP address or FQDN.
- `username` (String) Proxy username.


<a id="nestedblock--cloud_compute_settings"></a>
### Nested Schema for `cloud_compute_settings`

Required:

- `security_group_id` (String) AWS security group ID.
- `subnet_id` (String) AWS subnet ID.
- `vpc_id` (String) AWS VPC ID.

Optional:

- `archival_consolidation` (Boolean) When true, archival consolidation is enabled. Archival consolidation frees up storage. Default value is `false`.


<a id="nestedblock--compute_proxy_settings"></a>
### Nested Schema for `compute_proxy_settings`

Required:

- `port_number` (Number) Proxy port number.
- `protocol` (String) Proxy protocol. Possible values are `HTTP`, `HTTPS` and `SOCKS5`.
- `proxy_server` (String) Proxy server IP address or FQDN.

Optional:

- `password` (String, Sensitive) Proxy password.
- `username` (String) Proxy username.


<a id="nestedblock--endpoint_settings"></a>
### Nested Schema for `endpoint_settings`

Optional:

- `kms_endpoint` (String) AWS KMS endpoint. A KMS endpoint can only be specified when a KMS key is used for encryption.
- `s3_endpoint` (String) AWS S3 endpoint.


<a id="nestedblock--immutability_settings"></a>
### Nested Schema for `immutability_settings`

Required:

- `lock_period` (Number) Immutability lock period (days).
