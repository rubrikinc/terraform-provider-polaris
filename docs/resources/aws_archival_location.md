---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "polaris_aws_archival_location Resource - terraform-provider-polaris"
subcategory: ""
description: |-
  The polaris_aws_archival_location resource creates an RSC archival location for
  cloud-native workloads. This resource requires that the AWS account has been
  onboarded with the CLOUD_NATIVE_ARCHIVAL feature.
  When creating an archival location, the region where the snapshots are stored needs
  to be specified:
  SOURCE_REGION - Store snapshots in the same region to minimize data transfer
  charges. This is the default behaviour when the region field is not specified.SPECIFIC_REGION - Storing snapshots in another region can increase total data
  transfer charges. The region field specifies the region.
  -> Note: The AWS bucket holding the archived data is not created until the first
  protected object is archived.
---

# polaris_aws_archival_location (Resource)

The `polaris_aws_archival_location` resource creates an RSC archival location for
cloud-native workloads. This resource requires that the AWS account has been
onboarded with the `CLOUD_NATIVE_ARCHIVAL` feature.

When creating an archival location, the region where the snapshots are stored needs
to be specified:
  * `SOURCE_REGION` - Store snapshots in the same region to minimize data transfer
    charges. This is the default behaviour when the `region` field is not specified.
  * `SPECIFIC_REGION` - Storing snapshots in another region can increase total data
    transfer charges. The `region` field specifies the region.

-> **Note:** The AWS bucket holding the archived data is not created until the first
   protected object is archived.

## Example Usage

```terraform
data "polaris_aws_account" "archival" {
  name = "archival-account"
}

# Source region.
resource "polaris_aws_archival_location" "archival_location" {
  account_id     = data.polaris_aws_account.archival.id
  name           = "my-archival-location"
  bucket_prefix  = "e089osn2qn"
}

# Specific region.
resource "polaris_aws_archival_location" "archival_location" {
  account_id     = data.polaris_aws_account.archival.id
  name           = "my-archival-location"
  bucket_prefix  = "f48wad7flz"
  region         = "us-east-2"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) RSC cloud account ID (UUID). Changing this forces a new resource to be created.
- `bucket_prefix` (String) AWS bucket prefix. The prefix cannot be longer than 19 characters. Note that `rubrik-` will always be prepended to the prefix. Changing this forces a new resource to be created.
- `name` (String) Name of the cloud native archival location.

### Optional

- `bucket_tags` (Map of String) AWS bucket tags. Each tag will be added to the bucket created by RSC.
- `kms_master_key` (String, Sensitive) AWS KMS master key alias/ID. Default value is `aws/s3`.
- `region` (String) AWS region to store the snapshots in. If not specified, the snapshots will be stored in the same region as the workload. Changing this forces a new resource to be created.
- `storage_class` (String) AWS bucket storage class. Possible values are `STANDARD`, `STANDARD_IA`, `ONEZONE_IA`, `GLACIER_INSTANT_RETRIEVAL`, `GLACIER_DEEP_ARCHIVE` and `GLACIER_FLEXIBLE_RETRIEVAL`. Default value is `STANDARD_IA`.

### Read-Only

- `connection_status` (String) Connection status of the cloud native archival location.
- `id` (String) Cloud native archival location ID (UUID).
- `location_template` (String) Location template. If a region was specified, it will be `SPECIFIC_REGION`, otherwise `SOURCE_REGION`.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = polaris_aws_archival_location.archival_location
  id = "14151484-ca3e-48a5-a25b-2476d7cc4571"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
% terraform import polaris_aws_archival_location.archival_location 14151484-ca3e-48a5-a25b-2476d7cc4571
```
