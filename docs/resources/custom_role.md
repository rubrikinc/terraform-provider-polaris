---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "polaris_custom_role Resource - terraform-provider-polaris"
subcategory: ""
description: |-
  The polaris_custom_role resource is used to create and manage custom roles in
  RSC.
---

# polaris_custom_role (Resource)

The `polaris_custom_role` resource is used to create and manage custom roles in
RSC.

## Example Usage

```terraform
# Manually defined role.
resource "polaris_custom_role" "auditor" {
  name        = "Compliance Auditor Role"
  description = "Compliance Auditor"

  permission {
    operation = "EXPORT_DATA_CLASS_GLOBAL"
    hierarchy {
      snappable_type = "AllSubHierarchyType"
      object_ids = [
        "GlobalResource"
      ]
    }
  }

  permission {
    operation = "VIEW_DATA_CLASS_GLOBAL"
    hierarchy {
      snappable_type = "AllSubHierarchyType"
      object_ids = [
        "GlobalResource"
      ]
    }
  }
}

# From role template.
data "polaris_role_template" "auditor" {
  name = "Compliance Auditor"
}

resource "polaris_custom_role" "auditor" {
  name        = "Compliance Auditor Role"
  description = "Based on the ${data.polaris_role_template.auditor.name} template"

  dynamic "permission" {
    for_each = data.polaris_role_template.auditor.permission
    content {
      operation = permission.value["operation"]

      dynamic "hierarchy" {
        for_each = permission.value["hierarchy"]
        content {
          snappable_type = hierarchy.value["snappable_type"]
          object_ids     = hierarchy.value["object_ids"]
        }
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Role name.
- `permission` (Block Set, Min: 1) Role permission. (see [below for nested schema](#nestedblock--permission))

### Optional

- `description` (String) Role description.

### Read-Only

- `id` (String) Role ID (UUID).

<a id="nestedblock--permission"></a>
### Nested Schema for `permission`

Required:

- `hierarchy` (Block Set, Min: 1) Snappable hierarchy. (see [below for nested schema](#nestedblock--permission--hierarchy))
- `operation` (String) Operation to allow on object IDs under the snappable hierarchy.

<a id="nestedblock--permission--hierarchy"></a>
### Nested Schema for `permission.hierarchy`

Required:

- `object_ids` (Set of String) Object/workload identifiers.
- `snappable_type` (String) Snappable/workload type.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = polaris_custom_role.auditor
  id = "7ee5c706-9326-45f2-984e-28941696211e"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
% terraform import polaris_custom_role.auditor 7ee5c706-9326-45f2-984e-28941696211e
```
