---
layout: ""
page_title: "polaris_aws_account Resource - terraform-provider-polaris"
description: |-

---

# polaris_aws_account (Resource)

## Manage Permissions

Polaris require permissions to operate and for AWS this is handled by a CloudFormation stack. As new features are added
to Polaris the permissions changes. When the status of a feature is `missing-permissions` the CloudFormation stack must
be updated for the feature to continue to function. This can be managed by setting the `permissions` argument to
`update`. This will generate a diff when the status of at least one feature is `missing-permissions`. Applying the AWS
account resource for this diff will update the CloudFormation stack. If the `permissions` argument is not specified the
provider will not attempt to update the CloudFormation stack.

## Example Usage

```terraform
# Enable Cloud Native Protection
resource "polaris_aws_account" "default" {
  profile = "default"

  cloud_native_protection {
    regions = [
      "us-east-2",
    ]
  }
}

# Enable Cloud Native Protection and Exocompte. Generates a diff when
# permissions are missing for the enabled features.
resource "polaris_aws_account" "default" {
  permissions = "update"
  profile     = "default"

  cloud_native_protection {
    regions = [
      "us-east-2",
      "us-west-2",
    ]
  }

  exocompute {
    regions = [
      "us-west-2",
    ]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **cloud_native_protection** (Block List, Min: 1, Max: 1) Enable the Cloud Native Protection feature for the GCP project. (see [below for nested schema](#nestedblock--cloud_native_protection))
- **profile** (String) AWS named profile.

### Optional

- **delete_snapshots_on_destroy** (Boolean) Should snapshots be deleted when the resource is destroyed.
- **exocompute** (Block List, Max: 1) Enable the exocompute feature for the account. (see [below for nested schema](#nestedblock--exocompute))
- **id** (String) The ID of this resource.
- **name** (String) Account name in Polaris. If not given the name is taken from AWS Organizations or, if the required permissions are missing, is derived from the AWS account ID and the named profile.
- **permissions** (String) When set to 'update' feature permissions can be updated by applying the configuration.

<a id="nestedblock--cloud_native_protection"></a>
### Nested Schema for `cloud_native_protection`

Required:

- **regions** (Set of String) Regions that Polaris will monitor for instances to automatically protect.

Read-Only:

- **status** (String) Status of the Cloud Native Protection feature.


<a id="nestedblock--exocompute"></a>
### Nested Schema for `exocompute`

Required:

- **regions** (Set of String) Regions to enable the Exocompute feature in.

Read-Only:

- **status** (String) Status of the Exocompute feature.
