---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "polaris_tag_rule Resource - terraform-provider-polaris"
subcategory: ""
description: |-
  The polaris_tag_rule resource manages RSC tag rules.
  A tag is a key-value pair used to group cloud resources for a specific purpose.
  This rule-based approach allows resource protection across multiple projects and
  regions. A tag can be used to assign an SLA Domain to all resources belonging to
  a specific application or department. When cloud resources are tagged
  appropriately, they derive protection automatically when they are instantiated.
  -> Note: Tag key and tag value are case sensitive.
---

# polaris_tag_rule (Resource)

The `polaris_tag_rule` resource manages RSC tag rules.

A tag is a key-value pair used to group cloud resources for a specific purpose.
This rule-based approach allows resource protection across multiple projects and
regions. A tag can be used to assign an SLA Domain to all resources belonging to
a specific application or department. When cloud resources are tagged
appropriately, they derive protection automatically when they are instantiated.

-> **Note:** Tag key and tag value are case sensitive.

## Example Usage

```terraform
# Match all AWS EC2 instances which has a tag called my-key in all RSC cloud
# accounts.
resource "polaris_tag_rule" "rule" {
  name        = "my-tag-rule"
  object_type = "AWS_EC2_INSTANCE"

  tag {
    key       = "my-key"
    match_all = true
  }
}

# Match all Azure VMs which has a tag called my-key with the value my-value in
# the azure-subscription RSC cloud account.
data "polaris_azure_subscription" "subscription" {
  name = "azure-subscription"
}

resource "polaris_tag_rule" "rule" {
  name        = "my-tag-rule"
  object_type = "AZURE_VIRTUAL_MACHINE"

  tag {
    key    = "my-key"
    values = ["my-value"]
  }

  cloud_account_ids = [
    data.polaris_azure_subscription.subscription.id,
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Tag rule name.
- `object_type` (String) Object type to which the tag rule will be applied. Possible values are `AWS_EBS_VOLUME`, `AWS_EC2_INSTANCE`, `AWS_RDS_INSTANCE`, `AWS_S3_BUCKET`, `AWS_DYNAMODB_TABLE`, `AZURE_MANAGED_DISK`, `AZURE_SQL_DATABASE_DB`, `AZURE_SQL_DATABASE_SERVER`, `AZURE_SQL_MANAGED_INSTANCE_SERVER`, `AZURE_STORAGE_ACCOUNT` and `AZURE_VIRTUAL_MACHINE`. Changing this forces a new resource to be created.

### Optional

- `cloud_account_ids` (Set of String) The RSC cloud account IDs (UUID) to which the tag rule should be applied. If empty, the tag rule will be applied to all RSC cloud accounts.
- `tag` (Block List) Tag conditions to match. Changing this forces a new resource to be created. (see [below for nested schema](#nestedblock--tag))
- `tag_all_values` (Boolean, Deprecated) If true, all tag values are matched. Changing this forces a new resource to be created. **Deprecated:** Use `tag` instead.
- `tag_key` (String, Deprecated) Tag key to match. Changing this forces a new resource to be created. **Deprecated:** Use `tag` instead.
- `tag_value` (String, Deprecated) Tag value to match. If the tag value is empty, it matches empty values. Changing this forces a new resource to be created. **Deprecated:** Use `tag` instead.

### Read-Only

- `id` (String) Tag rule ID (UUID).

<a id="nestedblock--tag"></a>
### Nested Schema for `tag`

Required:

- `key` (String) Tag key to match.

Optional:

- `match_all` (Boolean) If true, all tag values for this key are matched. Default is false.
- `values` (List of String) Tag values to match. If empty and `match_all` is false, matches empty values.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = polaris_tag_rule.rule
  id = "d46deac3-cc74-4460-9fe6-7c00551a4aa2"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
% terraform import polaris_tag_rule.rule d46deac3-cc74-4460-9fe6-7c00551a4aa2
```
